library(tidyverse)
# Collect the file names and select which ones we want
file_names_1 <- list.files("gov94sd_final_project_data/news_chyrons") %>% .[1:24]
file_names_1
# Collect the file names and select which ones we want
file_names_1 <- list.files("gov94sd_final_project_data/news_chyrons")
file_names_1
install.packages("data.table")
library(data.table)
f <- read_csv("gov94sd_final_project_data/news_chyrons/01_03-01_09.csv")
library(readxl)
library(janitor)
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
load("gov94sd_final_project_data/tweets/twitter_handles.RData")
skim(twitter_handles)
twitter_handles <- twitter_handles %>%
mutate(handle = case_when(name == "Ellzey, Jake" ~ "RepEllzey",
T ~ handle)) %>%
drop_na()
handles_1 <- twitter_handles %>%
arrange(name) %>%
slice(1:50)
Tweets_1 <- vector()
for(i in handles_1$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_1 <- rbind(Tweets_1, df)
}
save(Tweets_1, file = "tweets_1.RData")
handles_2 <- twitter_handles %>%
arrange(name) %>%
slice(51:100)
Tweets_2 <- vector()
for(i in handles_2$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_2 <- rbind(Tweets_2, df)
}
warnings()
handles_2 <- twitter_handles %>%
arrange(name) %>%
slice(51:100)
Tweets_2 <- vector()
for(i in handles_2$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_2 <- rbind(Tweets_2, df)
}
save(Tweets_2, file = "tweets_2.RData")
# save(Tweets_2, file = "tweets_2.RData")
handles_3 <- twitter_handles %>%
arrange(name) %>%
slice(101:150)
Tweets_3 <- vector()
for(i in handles_3$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_3 <- rbind(Tweets_3, df)
}
Tweets_3 <- vector()
for(i in handles_3$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_3 <- rbind(Tweets_3, df)
}
save(Tweets_3, file = "tweets_3.RData")
handles_4 <- twitter_handles %>%
arrange(name) %>%
slice(151:200)
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_4 <- rbind(Tweets_4, df)
}
handles_4 <- twitter_handles %>%
arrange(name) %>%
slice(151:200)
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_4 <- rbind(Tweets_4, df)
}
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
load("gov94sd_final_project_data/tweets/twitter_handles.RData")
twitter_handles <- twitter_handles %>%
mutate(handle = case_when(name == "Ellzey, Jake" ~ "RepEllzey",
T ~ handle)) %>%
drop_na()
handles_4 <- twitter_handles %>%
arrange(name) %>%
slice(151:200)
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_4 <- rbind(Tweets_4, df)
}
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
token <- get_token()
token
token <- get_token()
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03",
token = token)
Tweets_4 <- rbind(Tweets_4, df)
}
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
load("gov94sd_final_project_data/tweets/twitter_handles.RData")
twitter_handles <- twitter_handles %>%
mutate(handle = case_when(name == "Ellzey, Jake" ~ "RepEllzey",
T ~ handle)) %>%
drop_na()
handles_4 <- twitter_handles %>%
arrange(name) %>%
slice(151:200)
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03",
token = token)
Tweets_4 <- rbind(Tweets_4, df)
}
Tweets_4 <- vector()
for(i in handles_4$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_4 <- rbind(Tweets_4, df)
}
save(Tweets_4, file = "tweets_4.RData")
handles_5 <- twitter_handles %>%
arrange(name) %>%
slice(201:250)
Tweets_5 <- vector()
for(i in handles_5$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_5 <- rbind(Tweets_5, df)
}
save(Tweets_5, file = "tweets_5.RData")
handles_6 <- twitter_handles %>%
arrange(name) %>%
slice(251:300)
Tweets_6 <- vector()
for(i in handles_6$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_6 <- rbind(Tweets_6, df)
}
save(Tweets_6, file = "tweets_6.RData")
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
load("gov94sd_final_project_data/tweets/twitter_handles.RData")
twitter_handles <- twitter_handles %>%
mutate(handle = case_when(name == "Ellzey, Jake" ~ "RepEllzey",
T ~ handle)) %>%
drop_na()
handles_7 <- twitter_handles %>%
arrange(name) %>%
slice(301:350)
Tweets_7 <- vector()
for(i in handles_7$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_7 <- rbind(Tweets_7, df)
}
save(Tweets_7, file = "tweets_7.RData")
handles_8 <- twitter_handles %>%
arrange(name) %>%
slice(351:400)
Tweets_8 <- vector()
for(i in handles_8$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_8 <- rbind(Tweets_8, df)
}
save(Tweets_8, file = "tweets_8.RData")
handles_9 <- twitter_handles %>%
arrange(name) %>%
slice(401:450)
handles_9 <- twitter_handles %>%
arrange(name) %>%
slice(401:450)
Tweets_9 <- vector()
for(i in handles_9$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_9 <- rbind(Tweets_9, df)
}
save(Tweets_9, file = "tweets_9.RData")
handles_10 <- twitter_handles %>%
arrange(name) %>%
slice(451:500)
Tweets_10 <- vector()
for(i in handles_10$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_10 <- rbind(Tweets_10, df)
}
save(Tweets_10, file = "tweets_10.RData")
handles_11 <- twitter_handles %>%
arrange(name) %>%
slice(501:537)
Tweets_11 <- vector()
for(i in handles_11$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_11 <- rbind(Tweets_11, df)
}
handles_11 <- twitter_handles %>%
arrange(name) %>%
slice(501:537)
Tweets_11 <- vector()
for(i in handles_11$handle){
df <- get_timeline(i, n = 3200,
since = "2021-08-09",
until = "2022-04-03")
Tweets_11 <- rbind(Tweets_11, df)
}
save(Tweets_11, file = "tweets_11.RData")
load("tweets_1.RData")
library(janitor)
library(skimr)
library(rtweet)
library(tidyverse)
load("gov94sd_final_project_data/tweets/tweets_1.RData")
load("gov94sd_final_project_data/tweets/tweets_8.RData")
load("gov94sd_final_project_data/tweets/tweets_2.RData")
load("gov94sd_final_project_data/tweets/tweets_3.RData")
load("gov94sd_final_project_data/tweets/tweets_4.RData")
load("gov94sd_final_project_data/tweets/tweets_5.RData")
load("gov94sd_final_project_data/tweets/tweets_6.RData")
load("gov94sd_final_project_data/tweets/tweets_7.RData")
load("gov94sd_final_project_data/tweets/tweets_9.RData")
load("gov94sd_final_project_data/tweets/tweets_10.RData")
load("gov94sd_final_project_data/tweets/tweets_11.RData")
rbind(Tweets_1,
Tweets_2,
Tweets_3,
Tweets_4,
Tweets_5,
Tweets_6,
Tweets_7,
Tweets_8,
Tweets_9,
Tweets_10,
Tweets_11,)
?rbind
rbind(Tweets_1,
Tweets_2,
Tweets_3,
Tweets_4,
Tweets_5,
Tweets_6,
Tweets_7,
Tweets_8,
Tweets_9,
Tweets_10,
Tweets_11)
tweets_combined <- rbind(Tweets_1,
Tweets_2,
Tweets_3,
Tweets_4,
Tweets_5,
Tweets_6,
Tweets_7,
Tweets_8,
Tweets_9,
Tweets_10,
Tweets_11)
save(tweets_combined, "gov94sd_final_project_data/tweets/tweets_coombined.RData")
save(tweets_combined, file = "gov94sd_final_project_data/tweets/tweets_combined.RData")
knitr::opts_chunk$set(echo = TRUE)
# Loading necessary packages
library(gt)
library(quanteda)
library(broom)
library(skimr)
library(lubridate)
library(janitor)
library(dotwhisker)
library(tidytext)
library(haven)
library(ggthemes)
library(webshot)
library(stargazer)
library(tidyverse)
library(patchwork)
library(ggrepel)
library(ggpubr)
knitr::opts_chunk$set(echo = TRUE)
# Loading necessary packages
library(gt)
library(quanteda)
library(broom)
library(skimr)
library(lubridate)
library(janitor)
library(dotwhisker)
library(tidytext)
library(haven)
library(ggthemes)
library(webshot)
library(stargazer)
library(tidyverse)
library(patchwork)
library(ggrepel)
library(ggpubr)
load("Gov94sd_final_project_data/tweets/news_chyrons_combined.RData")
chyrons <- dataset
text_corpus <- corpus(chyrons, text_field = "text")
text_corpus <- corpus(chyrons, text_field = "text")
# turning corpus into tokens. Removing unimportant words and selectng for ngrams
# = 2. Code taken from gov51 final project
toks_2 <- tokens(text_corpus,
remove_punct = TRUE,
remove_symbols = TRUE,
remove_numbers = TRUE,
remove_url = TRUE) %>%
tokens_tolower() %>%
tokens_remove(pattern=stopwords("en")) %>%
tokens_remove(pattern = c("u201c", "u00b0", "u2014", "wopi", "avi", "ooo",
"000", "ito", "ynl", "f'avl", "foxnews.com",
"ufb02pi", "ufb021", "ufbo2l", "ufb02L", "rpm")) %>%
tokens_select(min_nchar = 3) %>%
tokens_ngrams(n = 2)
# Loading necessary packages
library(gt)
library(quanteda)
library(broom)
library(skimr)
library(lubridate)
library(janitor)
library(dotwhisker)
library(textdata)
library(textdata)
library(tidytext)
library(haven)
library(ggthemes)
library(webshot)
library(stargazer)
library(tidyverse)
library(patchwork)
library(tidytext)
library(ggrepel)
library(ggpubr)
chyrons <- dataset
sb_chyron_counts <- chyron_data %>%
mutate(text = tolower(text),
mention = grepl("school board", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
facet_wrap(~channel) +
theme_clean() +
labs(title = "Chyrons that mention School Board",
x = "",
y = "# Chyrons")
sb_chyron_counts <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("school board", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
facet_wrap(~channel) +
theme_clean() +
labs(title = "Chyrons that mention School Board",
x = "",
y = "# Chyrons")
sb_chyron_counts
mm_chyron_counts <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("mask mandate", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
facet_wrap(~channel) +
theme_clean() +
labs(title = "Chyrons that mention Mask Mandaate",
x = "",
y = "# Chyrons")
mm_chyron_counts
mm_chyron_counts <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("school mask mandate", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
facet_wrap(~channel) +
theme_clean() +
labs(title = "Chyrons that mention Mask Mandaate",
x = "",
y = "# Chyrons")
mm_chyron_counts
crt_chyron_counts <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("critical race theory", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
facet_wrap(~channel) +
theme_clean() +
labs(title = "Chyrons that mention CRT",
x = "",
y = "# Chyrons")
crt_chyron_counts
mm_chyron_counts_combined
mm_chyron_counts_combined <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("school mask mandate", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
theme_clean() +
labs(title = "Chyrons that mention School Mask Mandaate",
x = "",
y = "# Chyrons")
mm_chyron_counts_combined
crt_chyron_counts_combined
crt_chyron_counts_combined <- chyrons %>%
mutate(text = tolower(text),
mention = grepl("critical race theory", text)) %>%
filter(mention) %>%
count(date, channel) %>%
ggplot(aes(x = date, y = n)) +
geom_col() +
theme_clean() +
labs(title = "Chyrons that mention CRT",
x = "",
y = "# Chyrons")
crt_chyron_counts_combined
